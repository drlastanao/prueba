<!DOCTYPE HTML>
<html>
	<head>
		<title>Cordova</title>
		<link rel="stylesheet" href="estilo.css" type="text/css">
		<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
		
		<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=true">
       </script>
       
       
		<script type="text/javascript" charset="utf-8">
	
	  
	   var map
	   var indicador
	   
	   
	   document.addEventListener("deviceready",onDeviceReady,false);
	   

	   function initialize()
	   {
	   
	   var mapOptions = {
 						 center: new google.maps.LatLng(41.656,-0.876),
  						 zoom: 15,
  						 mapTypeId: google.maps.MapTypeId.ROADMAP
       };
        map = new google.maps.Map(document.getElementById("map_canvas"),mapOptions);
	    indicador= new google.maps.Marker({position: new google.maps.LatLng(41.656,-0.876),map:map});
	    
	   }
	   
	   function ustedaqui(){
	   	  alert("aqui");
	      navigator.geolocation.getCurrentPosition(GPS,error,{enableHighAccuracy:true});
	   }
	   
	   function GPS(coordenadas)
	   {
	   	    
	   	    var ubicacion=new google.maps.LatLng(coordenadas.coords.latitude,coordenadas.coords.longitude);
	   	    map.setCenter(ubicacion);
	   	    indicador.setPosition(ubicacion);
	   		
	   }
	   
	   function error()
	   {
	   	   alert("Ha ocurrido un error");
	   }
	   
	   function onDeviceReady()
	   {
	   	  initialize(); 
	   	   
	     
	     
	        	        
	   }
	   
	    
	   
	</script>
	
	<style type="text/css">
 	 html { height: 100% }
 	 body { height: 100%; margin: 0; padding: 0 }
 	 #map_canvas { height: 80% }
	</style>
	</head>
	
	<body >
     <div id="map_canvas" style="width:100%; height:80%"></div>
	 <button onclick="ustedaqui();">pulse</button>
	</body>
	
	
	
	
	
	
</html>